<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€‹äººå…«å­—ç´€éŒ„å·¥å…·</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 min-h-screen py-10 px-4">

    <div class="max-w-xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-100 p-6 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-extrabold text-slate-800">å…«å­—å‘½ä¾‹ç´€éŒ„</h1>
            <p class="text-slate-500 mt-2 text-sm">æ‰‹å‹•è¼¸å…¥ç¢ºä¿æœ€æº–ç¢ºï¼Œä¸€éµå°å‡ºæ–‡å­—ç´€éŒ„</p>
        </header>
        
        <div class="space-y-6">
            <div class="grid grid-cols-2 gap-4">
                <div class="col-span-2 md:col-span-1">
                    <label class="block text-sm font-semibold text-slate-700">å§“å</label>
                    <input type="text" id="name" class="w-full mt-1 border-gray-200 border rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-indigo-500 outline-none transition">
                </div>
                <div class="col-span-2 md:col-span-1">
                    <label class="block text-sm font-semibold text-slate-700">å‡ºç”Ÿåœ°é»</label>
                    <input type="text" id="location" class="w-full mt-1 border-gray-200 border rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-indigo-500 outline-none transition">
                </div>
                <div class="col-span-2 md:col-span-1">
                    <label class="block text-sm font-semibold text-slate-700">è¥¿å…ƒç”Ÿæ—¥</label>
                    <input type="date" id="date" class="w-full mt-1 border-gray-200 border rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-indigo-500 outline-none transition">
                </div>
                <div class="col-span-2 md:col-span-1">
                    <label class="block text-sm font-semibold text-slate-700">å…·é«”æ™‚é–“</label>
                    <input type="time" id="time" class="w-full mt-1 border-gray-200 border rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-indigo-500 outline-none transition">
                </div>
            </div>

            <hr class="border-slate-100">

            <div>
                <label class="block text-sm font-semibold text-slate-700 mb-3 text-center">å…«å­— (æ‰‹å‹•æ ¡å°ç‰ˆ)</label>
                <div class="grid grid-cols-4 gap-2">
                    <div class="text-center"><span class="text-xs font-bold text-slate-400 block mb-1">æ™‚æŸ±</span><input type="text" id="hourPillar" placeholder="ä¸æœª" class="w-full border p-2 rounded-lg text-center bg-white shadow-sm"></div>
                    <div class="text-center"><span class="text-xs font-bold text-slate-400 block mb-1">æ—¥æŸ±</span><input type="text" id="dayPillar" placeholder="è¾›äº¥" class="w-full border p-2 rounded-lg text-center bg-white shadow-sm border-indigo-200"></div>
                    <div class="text-center"><span class="text-xs font-bold text-slate-400 block mb-1">æœˆæŸ±</span><input type="text" id="monthPillar" placeholder="ä¸™åˆ" class="w-full border p-2 rounded-lg text-center bg-white shadow-sm"></div>
                    <div class="text-center"><span class="text-xs font-bold text-slate-400 block mb-1">å¹´æŸ±</span><input type="text" id="yearPillar" placeholder="ç”²è¾°" class="w-full border p-2 rounded-lg text-center bg-white shadow-sm"></div>
                </div>
            </div>

            <div>
                <label class="block text-sm font-semibold text-slate-700">ç­†è¨˜ / å–œç”¨ç¥ / å¤§é‹å‚™è¨»</label>
                <textarea id="notes" rows="4" class="w-full mt-1 border-gray-200 border rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-indigo-500 outline-none transition" placeholder="ä¾‹å¦‚ï¼šå¤§é‹è¾›æœªè½‰å£¬ç”³..."></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                <button onclick="generateText()" class="w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 active:scale-95 transition shadow-lg shadow-indigo-200">ç”Ÿæˆç´€éŒ„å…§å®¹</button>
                <button onclick="copyToClipboard()" id="copyBtn" class="hidden w-full py-3 bg-emerald-500 text-white font-bold rounded-xl hover:bg-emerald-600 active:scale-95 transition shadow-lg shadow-emerald-200">è¤‡è£½æ–‡å­—å…§å®¹</button>
                <button onclick="downloadFile()" id="dlBtn" class="hidden col-span-1 md:col-span-2 w-full py-2 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition">ğŸ’¾ å„²å­˜ç‚º .txt æª”æ¡ˆ</button>
            </div>

            <div id="previewArea" class="hidden mt-4 animate-fade-in">
                <div class="bg-slate-800 rounded-lg p-4 text-slate-100 text-sm font-mono overflow-auto shadow-inner border-t-4 border-indigo-500">
                    <pre id="outputContent"></pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        function getValues() {
            return {
                name: document.getElementById('name').value || 'æœªçŸ¥å§“å',
                loc: document.getElementById('location').value || 'æœªç´€éŒ„åœ°é»',
                date: document.getElementById('date').value || '----/--/--',
                time: document.getElementById('time').value || '--:--',
                yP: document.getElementById('yearPillar').value || 'â–¡â–¡',
                mP: document.getElementById('monthPillar').value || 'â–¡â–¡',
                dP: document.getElementById('dayPillar').value || 'â–¡â–¡',
                hP: document.getElementById('hourPillar').value || 'â–¡â–¡',
                notes: document.getElementById('notes').value || 'ç„¡å‚™è¨»'
            };
        }

        function buildText() {
            const v = getValues();
            return `ã€å‘½ä¾‹ç´€éŒ„åº«ã€‘\nå§“åï¼š${v.name}\nåœ°é»ï¼š${v.loc}\næ™‚é–“ï¼š${v.date} ${v.time}\n\n[ å…«å­—ç›¤é¢ ]\næ™‚ æ—¥ æœˆ å¹´\n${v.hP} ${v.dP} ${v.mP} ${v.yP}\n\n[ å‚™è¨» ]\n${v.notes}\n\nç´€éŒ„æ—¥æœŸï¼š${new Date().toLocaleString()}\n--------------------`;
        }

        function generateText() {
            document.getElementById('outputContent').textContent = buildText();
            document.getElementById('previewArea').classList.remove('hidden');
            document.getElementById('copyBtn').classList.remove('hidden');
            document.getElementById('dlBtn').classList.remove('hidden');
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(buildText()).then(() => {
                const btn = document.getElementById('copyBtn');
                const oldText = btn.textContent;
                btn.textContent = 'âœ… å·²è¤‡è£½ï¼';
                setTimeout(() => btn.textContent = oldText, 2000);
            });
        }

        function downloadFile() {
            const blob = new Blob([buildText()], { type: "text/plain" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = `${getValues().name}_å…«å­—ç´€éŒ„.txt`;
            a.click();
        }
    </script>
</body>
</html>
