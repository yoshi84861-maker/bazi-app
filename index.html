<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>八字紀錄工具-自動觸發版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lunar-javascript/lunar.js"></script>
</head>
<body class="bg-slate-100 min-h-screen py-8 px-4 font-sans text-slate-900">

    <div class="max-w-2xl mx-auto space-y-6">
        <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 border border-gray-200">
            <header class="text-center mb-6 border-b pb-4">
                <h1 class="text-2xl font-bold text-slate-800">八字命例收藏夾</h1>
                <p class="text-xs text-slate-400 mt-1">選完日期若未變動，請點擊下方重新整理</p>
            </header>
            
            <div class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div class="col-span-1">
                        <label class="text-sm font-semibold text-slate-600">姓名</label>
                        <input type="text" id="name" placeholder="輸入姓名" class="w-full mt-1 border rounded-lg p-2 bg-gray-50 outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    <div class="col-span-1">
                        <label class="text-sm font-semibold text-slate-600">性別</label>
                        <select id="gender" class="w-full mt-1 border rounded-lg p-2 bg-gray-50 outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="乾造 (男)">男 (乾造)</option>
                            <option value="坤造 (女)">女 (坤造)</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-sm font-semibold text-slate-600">陽曆生日</label>
                        <input type="date" id="date" oninput="autoCalculateBazi()" onchange="autoCalculateBazi()" onclick="autoCalculateBazi()" class="w-full mt-1 border rounded-lg p-2 bg-gray-50 outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    <div>
                        <label class="text-sm font-semibold text-slate-600">時間</label>
                        <input type="time" id="time" oninput="autoCalculateBazi()" onchange="autoCalculateBazi()" class="w-full mt-1 border rounded-lg p-2 bg-gray-50 outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                </div>

                <button onclick="autoCalculateBazi()" class="w-full py-1 text-[10px] bg-slate-100 text-slate-400 rounded hover:bg-slate-200 transition">
                    🔄 若資料未更新，請按此手動刷新
                </button>

                <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-200">
                    <div class="grid grid-cols-4 gap-2 text-center">
                        <div>
                            <span id="hStar" class="text-[10px] font-bold text-indigo-600 block mb-1">--</span>
                            <span class="text-[10px] text-slate-400 block">時柱</span>
                            <input type="text" id="hourPillar" class="w-full border-0 rounded bg-white p-2 text-center font-bold text-lg outline-none" readonly>
                        </div>
                        <div>
                            <span class="text-[10px] font-bold text-rose-500 block mb-1">日主</span>
                            <span class="text-[10px] text-slate-400 block">日柱</span>
                            <input type="text" id="dayPillar" class="w-full border-0 rounded bg-white p-2 text-center font-bold text-lg ring-2 ring-rose-200 outline-none" readonly>
                        </div>
                        <div>
                            <span id="mStar" class="text-[10px] font-bold text-indigo-600 block mb-1">--</span>
                            <span class="text-[10px] text-slate-400 block">月柱</span>
                            <input type="text" id="monthPillar" class="w-full border-0 rounded bg-white p-2 text-center font-bold text-lg outline-none" readonly>
                        </div>
                        <div>
                            <span id="yStar" class="text-[10px] font-bold text-indigo-600 block mb-1">--</span>
                            <span class="text-[10px] text-slate-400 block">年柱</span>
                            <input type="text" id="yearPillar"
